{% extends 'flatpages/default.html' %}
<!-- Название у нас будет Posts -->

{% load censor %} <!-- не забываем заранее загружать наши фильтры! -->

{% block title %}
Posts
{% endblock title %}


<!-- В контенте на странице мы выводим все новости-->
{% block content %}
    <h4>Сегодня {{ time_now|date:'d M Y' }}</h4>
    <h2>Все новости - {{posts|length}} шт. </h2>
<!--<h3> {{ value1|default_if_none:"ничего" }} </h3> -->

    <hr>
    {% if posts %}
        <!--{{ posts }} -->  <!-- список новостей -->
    <table>
        <td>Заголовок</td>
        <td>Дата публикации</td>
        <td>Текст</td>
        <td>Автор</td>

        {% for post in posts %}
            <tr>
                <td>{{ post.title|censor:'<цензура>'}}</td>
                <td>{{ post.time_in_new_post|date:'d M Y H:m' }}</td>
                <td>{{ post.content_new_post|truncatechars:50|censor:'<цензура>' }}</td>
                <td>{{post.author.author}}</td>
            </tr>
        {% endfor %}
    </table>
    <br><br><br><br> ИЛИ ТАК:<br><br>

    {% for post in posts %}
        <p>{{ post.time_in_new_post|date:'d M Y H:m' }}, <b> {{ post.title|censor:'<цензура>' }}</b></p>
        <p>{{ post.content_new_post|truncatechars:50|censor:'<цензура>' }}</p>
        <br>
    {% endfor %}

    {% else %}
        <h3>Новостей нет</h3>
    {% endif %}
{% endblock content %}




